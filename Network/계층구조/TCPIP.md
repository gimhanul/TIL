## 4-2. TCP/IP 계층 구조

컴퓨터 간의 통신을 위해 미국 국방성에서 개발한 통신 프로토콜로, TCP와 IP를 조립함. 현재 인터넷에 사용됨.

<br>

**개념**

Transmission Control Protocol / Internet Protocol

`인터넷을 통한 모든 전송 방식`을 규정함.

<br>

**구조**

5 Layer로 이루어짐.

![](https://t1.daumcdn.net/cfile/tistory/1520A0544D94705D09)

<br>

<br>

### 각 계층의 기능

**물리 계층**

비트열을 통신 매체의 특성에 맞는 전기 신호나 빛의 신호로 변환하여 전달하는 역할을 함.

- 기능
    - 물리적 링크의 설정과 해제
    - 타이밍 규칙, 커텍터, 전기 신호 정함

- 기기: 네트워크 케이블, 네트워크 어댑터 등

<br>

**데이터 링크 계층**

이더넷 등의 데이터 링크를 이용하여 통신을 하기 위한 인터페이스가 되는 계층. 네트워크 인터페이스 계층이라고도 함.

- 기능
    - 상위 계층으로부터 전달 받은 데이터에 물리적 주소인 메채 접근 제어(MAC; Media Access Control) 주소 등의 정보를 가지고 있는 헤더를 추가하여 프레임을 만들고, 물리 계층으로 전달함.

- 기기: 브리지, 스위칭 허브 등
- 프로토콜
    - PPP : Point to Point Protocol, 접속 자격 증명
    - SLIP : Serial Line Internet Protocol, 직렬 포트에서 TCP/IP 네트워크에 전화선 등의 저속 회선을 통해 일시 접속

<br>

**네트워크 계층(인터넷 계층)**

네트워크 전체에 걸쳐 패킷의 논리적 전송과 간련된 프로토콜을 지정함.

- 기능
    - 다수의 네트워크 간에 패킷 라우팅을 처리하여 두 응용 프로그램 간에 통신 흐름을 제어함.
    - 경로가 여러 개면 최적의 경로 선택
    - 패킷은 IP 데이터그램으로 캡슐화되고 라윙 알고리즘이 적용되어 데이터 링크 계층으로 전달함.
    > 캡슐화는 상위 꼐층의 통신 규약 정보를 하위 통신 규약 프레임 사용자 정보 영역에 내장시켜 전송하는 기술을 말함.
    > 전송 계층의 패킷이 네트워크 계층에서는 데이터가 되는데, 이 데이터에 IP 헤더가 추가된 것을 말함. 이는 데이터 링크 계층으로 가면 데이터가 됨.
    - 통신 상대 지정 위해 네트워크 상에 있는 모든 기기에 IP 주소라는 고유의 숫자 사용함.
- 기기: 라우터
- 프로토콜
    - IP : Internet Protocol, 호스트의 주소를 지정하고 데이터를 전달함.
    - ARP : Address Resolution Protocol, IP 주소는 아는데 MAC 주소를 모를 때 목적지 컴퓨터의 MAC 주소를 확인함.
    - RARP : Reverse Address Resolution Protocol, MAC 주소를 이용해 IP 주소를 알아냄.

<br>

**전송 계층**

응용 계층과 네트워크 계층의 중개 역할을 함.

- 기능
    - 응용 프로그램의 전송 수준을 설정하기 위한 프로토콜을 정의함.
    - 신뢰성 있는 통신과 오류 없는 데이터 전달을 보장함.
    - 패킷의 순서를 결정하고 데이터 무결성을 유지함.

- 프로토콜
    - TCP : Transmission Control Protocol, 전송 제어 프로토콜로 응용에 대한 모든 전송 계층 서비스를 제공함. 신뢰성 있는 `연결 지향형 프로토콜`임. 정확한 데이터 전달이 필요한 경우 사용함. 응용 프로그램으로부터 정보를 받아 세그먼트라는 작은 단위로 분리한 다음, 순서대로 번호를 할당하여 수신측의 프로토콜이 완전한 데이터로 결합할 수 있도록 함.
    - UDP : User Datagram Protocol, 사용자 데이터그램 프로토콜. 연결 통로를 설정하지 않고 데이터를 일방적으로 전송하는 `비연결형 프로토콜`임. 크기가 작아 빠르지만 신뢰성이 없음.

<br>

**응용 계층**

OSI 참조 모델의 세션, 표현, 응용 계층을 합친 것과 같음. 최상위 계층이며, 하드웨어, 운영체제, 컴퓨터 기능 등에 관계 없이 응용 프로그램 상호 간의 통신을 관리함.

이 계층을 사용해 네트워크에 액세스할 수 있음.

- 프로토콜
    - HTTP : HyperText Transfer Protocol, 웹 서버와 웹 브라우저 간에 정보를 주고받음. 하이퍼텍스트 문서를 교환함.
    - FTP : File Transfer Protocol, 파일 전송
    - Telnet : Telecommunication Network, 원격지에 있는 서버에 연결할 수 있도록 해주는 인터넷 표준 프로토콜임.
    - SMTP와 POP3: SMTP는 메일 전송, POP3는 메일 수신